



<!doctype html>
<html lang="kr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="클립보드로 복사">
      
        <meta name="lang:clipboard.copied" content="클립보드에 복사됨">
      
        <meta name="lang:search.language" content="ja">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="검색어와 일치하는 문서가 없습니다">
      
        <meta name="lang:search.result.one" content="1개의 일치하는 문서">
      
        <meta name="lang:search.result.other" content="#개의 일치하는 문서">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Integrate - Solutions Engineering (Korea)</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../css/main.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-134914613-1", "bson-branch.github.io/docs/")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#overview" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../.." title="Solutions Engineering (Korea)" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Solutions Engineering (Korea)
            </span>
            <span class="md-header-nav__topic">
              
                Integrate
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="검색" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            검색어를 입력하세요
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../.." title="Solutions Engineering (Korea)" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Solutions Engineering (Korea)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../guides/branch/" title="Guides" class="md-nav__link">
      Guides
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../guides/migration/" title="Migration" class="md-nav__link">
      Migration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../" title="Translations" class="md-nav__link">
      Translations
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../guides/data_feeds/" title="Data Feeds" class="md-nav__link">
      Data Feeds
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../guides/fraud/index.md" title="Fraud" class="md-nav__link">
      Fraud
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">목차</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" title="브랜치 연동" class="md-nav__link">
    브랜치 연동
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" title="대쉬보드 설정" class="md-nav__link">
    대쉬보드 설정
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" title="앱 연동" class="md-nav__link">
    앱 연동
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" title="브랜치 초기화" class="md-nav__link">
    브랜치 초기화
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" title="기능 구현" class="md-nav__link">
    기능 구현
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" title="브랜치 초기화" class="md-nav__link">
    브랜치 초기화
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" title="딥링크 생성" class="md-nav__link">
    딥링크 생성
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" title="딥링크 공유" class="md-nav__link">
    딥링크 공유
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-deep-link" title="Read deep link" class="md-nav__link">
    Read deep link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-journeys-banner" title="Create Journeys banner" class="md-nav__link">
    Create Journeys banner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-text-message" title="Create text message" class="md-nav__link">
    Create text message
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#host-deep-link-data" title="Host deep link data" class="md-nav__link">
    Host deep link data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-users" title="Track users" class="md-nav__link">
    Track users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-events" title="Track events" class="md-nav__link">
    Track events
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-commerce" title="Track commerce" class="md-nav__link">
    Track commerce
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handle-referrals" title="Handle referrals" class="md-nav__link">
    Handle referrals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handle-listeners" title="Handle listeners" class="md-nav__link">
    Handle listeners
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handle-firebase-app-indexing" title="Handle Firebase App Indexing" class="md-nav__link">
    Handle Firebase App Indexing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-disable-user-tracking" title="Enable / Disable User Tracking" class="md-nav__link">
    Enable / Disable User Tracking
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshoot-issues" title="Troubleshoot issues" class="md-nav__link">
    Troubleshoot issues
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sample-testing-apps" title="Sample testing apps" class="md-nav__link">
    Sample testing apps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#browser-support" title="Browser support" class="md-nav__link">
    Browser support
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bower-or-npm-compatibility" title="Bower or Npm compatibility" class="md-nav__link">
    Bower or Npm compatibility
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commonjs-and-requirejs-compatibility" title="CommonJS and RequireJS compatibility" class="md-nav__link">
    CommonJS and RequireJS compatibility
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#branch-init-options" title="Branch init options" class="md-nav__link">
    Branch init options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-read-deep-link" title="Testing read deep link" class="md-nav__link">
    Testing read deep link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#journey-not-sticking-to-nav" title="Journey not sticking to nav" class="md-nav__link">
    Journey not sticking to nav
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-call-to-action" title="Create call to action" class="md-nav__link">
    Create call to action
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no-access-control-error" title="No Access-Control Error" class="md-nav__link">
    No Access-Control Error
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#browser-fingerprint-id" title="Browser Fingerprint ID" class="md-nav__link">
    Browser Fingerprint ID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-security-policy-violations" title="Content Security Policy Violations" class="md-nav__link">
    Content Security Policy Violations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Integrate</h1>
                
                <h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<ul>
<li><code>Branch Web SDK</code>을 통해서 배너, SMS, 또는 원하시는 방법으로 딥링크를 생성및 공유할 수 있습니다. 그리고 이벤트 트래킹을 지원하며, Referral에 대한 접근과 Credit관리를 할 수 있습니다. SDK는 대략 압축시 13KB 정도의 크기 입니다.</li>
</ul>
<h2 id="_1">브랜치 연동<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<ul>
<li>
<h3 id="_2">대쉬보드 설정<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><a href="/pages/dashboard/integrate/">Configure your dashboard</a>에서 <code>Basic integration</code>을 완료하세요.</p>
<p><img alt="image" src="../../../img/pages/dashboard/fallback.png" /></p>
</li>
</ul>
</li>
<li>
<h3 id="_3">앱 연동<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<ul>
<li>먼저 앱을 연동하세요.</li>
</ul>
</li>
<li>
<h3 id="_4">브랜치 초기화<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><span class="cp">&lt;!doctype html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="hll">  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="p">&gt;</span>
</span>  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="c1">// load Branch</span>
<span class="hll">      <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">_</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">k</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">b</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">||!</span><span class="nx">b</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">_q</span><span class="p">){</span><span class="k">for</span><span class="p">(;</span><span class="nx">s</span><span class="o">&lt;</span><span class="nx">_</span><span class="p">.</span><span class="nx">length</span><span class="p">;)</span><span class="nx">c</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="nx">_</span><span class="p">[</span><span class="nx">s</span><span class="o">++</span><span class="p">]);</span><span class="nx">d</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="nx">d</span><span class="p">.</span><span class="nx">async</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="nx">d</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="s2">&quot;https://cdn.branch.io/branch-latest.min.js&quot;</span><span class="p">;</span><span class="nx">k</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">a</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span><span class="nx">k</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">k</span><span class="p">);</span><span class="nx">b</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">=</span><span class="nx">h</span><span class="p">}})(</span><span class="nb">window</span><span class="p">,</span><span class="nb">document</span><span class="p">,</span><span class="s2">&quot;script&quot;</span><span class="p">,</span><span class="s2">&quot;branch&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">r</span><span class="p">){</span><span class="nx">b</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">b</span><span class="p">.</span><span class="nx">_q</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">r</span><span class="p">,</span><span class="nx">arguments</span><span class="p">])}},{</span><span class="nx">_q</span><span class="o">:</span><span class="p">[],</span><span class="nx">_v</span><span class="o">:</span><span class="mi">1</span><span class="p">},</span><span class="s2">&quot;addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent disableTracking&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">),</span> <span class="mi">0</span><span class="p">);</span>
</span><span class="hll">    <span class="c1">// init Branch</span>
</span><span class="hll">    <span class="nx">branch</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s1">&#39;key_live_kaFuWw8WvY7yn1d9yYiP8gokwqjV0Swt&#39;</span><span class="p">);</span>
</span><span class="hll">  <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span><span class="hll"><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span><span class="hll"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>

<ul>
<li>키 <code>key_live_kaFuWw8WvY7yn1d9yYiP8gokwqjV0Swt</code>을 <a href="https://dashboard.branch.io/account-settings/app">Branch Dashboard</a>의 것으로 변경하세요.</li>
<li>특정 버전의 SDK를 사용하고 싶다면, 초기화시에 <a href="https://cdn.branch.io/branch-latest.min.js">https://cdn.branch.io/branch-latest.min.js</a> 대신 <a href="https://cdn.branch.io/branch-x.xx.x.min.js">https://cdn.branch.io/branch-x.xx.x.min.js</a> (e.g. <a href="https://cdn.branch.io/branch-2.47.1.min.js)와">https://cdn.branch.io/branch-2.47.1.min.js)와</a> 같이 특정 버전을 지정하세요.</li>
</ul>
</li>
</ul>
<h2 id="_5">기능 구현<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<ul>
<li>
<h3 id="_6">브랜치 초기화<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>브랜치를 로딩하세요.</p>
</li>
<li>
<p><a href="#branch-init-options">브랜치 초기화 옵션</a>을 사용하세요.</p>
<div class="codehilite"><pre><span></span><span class="nx">branch</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s1">&#39;key_live_kaFuWw8WvY7yn1d9yYiP8gokwqjV0Swt&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">no_journeys</span><span class="o">:</span> <span class="kc">true</span> <span class="p">};</span>
<span class="nx">branch</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s1">&#39;key_live_kaFuWw8WvY7yn1d9yYiP8gokwqjV0Swt&#39;</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

</li>
<li>
<p><code>data</code>오브젝트내에 아래의 정보들이 리턴됩니다.</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>data_parsed</td>
<td><code>object</code>. If the user was referred from a link, and the link has associated data, the data is passed in here.</td>
</tr>
<tr>
<td>has_app</td>
<td><code>boolean</code>. 브랜치의 Persona정보를 통해 사용자가 이미 앱을 설치한 것으로 확인된 경우.</td>
</tr>
<tr>
<td>identity</td>
<td><em>optional</em> - <code>string</code>. <code>setIdentity</code>을 통해 설정된 경우, 유저를 식별할 수 있는 고유한 문자열</td>
</tr>
<tr>
<td>referring_link</td>
<td><code>string</code>. The referring link clicked, if available.</td>
</tr>
<tr>
<td>referring_identity</td>
<td><code>string</code>. If the user was referred from a link, and the link was created by a user with an identity, that identity is here.</td>
</tr>
</tbody>
</table>
</li>
<li>
<h3 id="_7">딥링크 생성<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>캡슐화된 데이터로 딥링크 URL을 생성합니다.</p>
</li>
<li>
<p><a href="/pages/links/integrate/">Deep Link Properties</a>를 사용합니다.</p>
</li>
<li>
<p><a href="https://dashboard.branch.io/liveview/links">브랜치 대쉬보드</a>에서 데이터를 확인하세요.</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">linkData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">campaign</span><span class="o">:</span> <span class="s1">&#39;content 123&#39;</span><span class="p">,</span>
  <span class="nx">channel</span><span class="o">:</span> <span class="s1">&#39;facebook&#39;</span><span class="p">,</span>
  <span class="nx">feature</span><span class="o">:</span> <span class="s1">&#39;dashboard&#39;</span><span class="p">,</span>
  <span class="nx">stage</span><span class="o">:</span> <span class="s1">&#39;new user&#39;</span><span class="p">,</span>
  <span class="nx">tags</span><span class="o">:</span> <span class="p">[</span> <span class="s1">&#39;tag1&#39;</span><span class="p">,</span> <span class="s1">&#39;tag2&#39;</span><span class="p">,</span> <span class="s1">&#39;tag3&#39;</span> <span class="p">],</span>
  <span class="nx">alias</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
    <span class="s1">&#39;custom_bool&#39;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s1">&#39;custom_int&#39;</span><span class="o">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">(),</span>
    <span class="s1">&#39;custom_string&#39;</span><span class="o">:</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span>
    <span class="s1">&#39;$og_title&#39;</span><span class="o">:</span> <span class="s1">&#39;Title&#39;</span><span class="p">,</span>
    <span class="s1">&#39;$og_description&#39;</span><span class="o">:</span> <span class="s1">&#39;Description&#39;</span><span class="p">,</span>
    <span class="s1">&#39;$og_image_url&#39;</span><span class="o">:</span><span class="s1">&#39;http://lorempixel.com/400/400&#39;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">branch</span><span class="p">.</span><span class="nx">link</span><span class="p">(</span><span class="nx">linkData</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">link</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">link</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="_8">딥링크 공유<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Will generate a Branch deep link and tag it with the channel the user selects</p>
</li>
<li>
<p>Uses <a href="/pages/links/integrate/">Deep Link Properties</a></p>
<div class="codehilite"><pre><span></span><span class="c">&lt;!-- shareable elements --&gt;</span>
<span class="p">&lt;</span><span class="nt">button</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;button&quot;</span><span class="p">&gt;</span>deep link<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;anchor&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>deep link<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">linkData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">campaign</span><span class="o">:</span> <span class="s1">&#39;content 123&#39;</span><span class="p">,</span>
  <span class="nx">channel</span><span class="o">:</span> <span class="s1">&#39;facebook&#39;</span><span class="p">,</span>
  <span class="nx">feature</span><span class="o">:</span> <span class="s1">&#39;dashboard&#39;</span><span class="p">,</span>
  <span class="nx">stage</span><span class="o">:</span> <span class="s1">&#39;new user&#39;</span><span class="p">,</span>
  <span class="nx">tags</span><span class="o">:</span> <span class="p">[</span> <span class="s1">&#39;tag1&#39;</span><span class="p">,</span> <span class="s1">&#39;tag2&#39;</span><span class="p">,</span> <span class="s1">&#39;tag3&#39;</span> <span class="p">],</span>
  <span class="nx">alias</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
    <span class="s1">&#39;custom_bool&#39;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s1">&#39;custom_int&#39;</span><span class="o">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">(),</span>
    <span class="s1">&#39;custom_string&#39;</span><span class="o">:</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span>
    <span class="s1">&#39;$og_title&#39;</span><span class="o">:</span> <span class="s1">&#39;Title&#39;</span><span class="p">,</span>
    <span class="s1">&#39;$og_description&#39;</span><span class="o">:</span> <span class="s1">&#39;Description&#39;</span><span class="p">,</span>
    <span class="s1">&#39;$og_image_url&#39;</span><span class="o">:</span><span class="s1">&#39;http://lorempixel.com/400/400&#39;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">branch</span><span class="p">.</span><span class="nx">link</span><span class="p">(</span><span class="nx">linkData</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">link</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// bind elements</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;button&#39;</span><span class="p">).</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">link</span> <span class="o">||</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">};</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;anchor&#39;</span><span class="p">).</span><span class="nx">href</span> <span class="o">=</span> <span class="nx">link</span> <span class="o">||</span> <span class="nx">err</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="read-deep-link">Read deep link<a class="headerlink" href="#read-deep-link" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Retrieve Branch data from a deep link</p>
</li>
<li>
<p>Best practice to receive data from the <code>listener</code> (to prevent a race condition)</p>
</li>
<li>
<p>Validate with <a href="#testing-read-deep-link">Testing read deep link</a></p>
</li>
<li>
<p>Listener</p>
<div class="codehilite"><pre><span></span><span class="nx">branch</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s1">&#39;key_live_kaFuWw8WvY7yn1d9yYiP8gokwqjV0Swt&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

</li>
<li>
<p>Latest data</p>
<div class="codehilite"><pre><span></span><span class="nx">branch</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

</li>
<li>
<p>First data</p>
<div class="codehilite"><pre><span></span><span class="nx">branch</span><span class="p">.</span><span class="nx">first</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="create-journeys-banner">Create Journeys banner<a class="headerlink" href="#create-journeys-banner" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Converts mobile users to app users</p>
</li>
<li>
<p>Create a <code>Journey</code> on the <a href="https://dashboard.branch.io/web/journeys">Branch Dashboard</a></p>
</li>
<li>
<p>Validate by testing your website on a mobile device</p>
</li>
<li>
<p>Append additional deep link data to the Journey button</p>
<div class="codehilite"><pre><span></span><span class="c1">// optional additional deep link data</span>
<span class="kd">var</span> <span class="nx">linkData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">campaign</span><span class="o">:</span> <span class="s1">&#39;content 123&#39;</span><span class="p">,</span>
  <span class="nx">channel</span><span class="o">:</span> <span class="s1">&#39;facebook&#39;</span><span class="p">,</span>
  <span class="nx">feature</span><span class="o">:</span> <span class="s1">&#39;dashboard&#39;</span><span class="p">,</span>
  <span class="nx">stage</span><span class="o">:</span> <span class="s1">&#39;new user&#39;</span><span class="p">,</span>
  <span class="nx">tags</span><span class="o">:</span> <span class="p">[</span> <span class="s1">&#39;tag1&#39;</span><span class="p">,</span> <span class="s1">&#39;tag2&#39;</span><span class="p">,</span> <span class="s1">&#39;tag3&#39;</span> <span class="p">],</span>
  <span class="nx">alias</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
    <span class="s1">&#39;custom_bool&#39;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s1">&#39;custom_int&#39;</span><span class="o">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">(),</span>
    <span class="s1">&#39;custom_string&#39;</span><span class="o">:</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span>
    <span class="s1">&#39;$og_title&#39;</span><span class="o">:</span> <span class="s1">&#39;Title&#39;</span><span class="p">,</span>
    <span class="s1">&#39;$og_description&#39;</span><span class="o">:</span> <span class="s1">&#39;Description&#39;</span><span class="p">,</span>
    <span class="s1">&#39;$og_image_url&#39;</span><span class="o">:</span><span class="s1">&#39;http://lorempixel.com/400/400&#39;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">branch</span><span class="p">.</span><span class="nx">setBranchViewData</span><span class="p">(</span><span class="nx">linkData</span><span class="p">);</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="c1">// close</span>
<span class="nx">branch</span><span class="p">.</span><span class="nx">closeJourney</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// reopen</span>
<span class="nx">branch</span><span class="p">.</span><span class="nx">track</span><span class="p">(</span><span class="s2">&quot;pageview&quot;</span><span class="p">);</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="create-text-message">Create text message<a class="headerlink" href="#create-text-message" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Converts desktop users to app users</p>
</li>
<li>
<p>Sends a SMS text message with a deep link to a phone number</p>
</li>
<li>
<p>Feature has certain <a href="/pages/web/text-me-the-app/#what-are-the-sms-rate-limits">SMS limits</a></p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">phoneNumber</span> <span class="o">=</span> <span class="s1">&#39;9999999999&#39;</span> <span class="c1">// +919812345678, +442071234567</span>

<span class="kd">var</span> <span class="nx">linkData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">campaign</span><span class="o">:</span> <span class="s1">&#39;content 123&#39;</span><span class="p">,</span>
  <span class="nx">channel</span><span class="o">:</span> <span class="s1">&#39;facebook&#39;</span><span class="p">,</span>
  <span class="nx">feature</span><span class="o">:</span> <span class="s1">&#39;dashboard&#39;</span><span class="p">,</span>
  <span class="nx">stage</span><span class="o">:</span> <span class="s1">&#39;new user&#39;</span><span class="p">,</span>
  <span class="nx">tags</span><span class="o">:</span> <span class="p">[</span> <span class="s1">&#39;tag1&#39;</span><span class="p">,</span> <span class="s1">&#39;tag2&#39;</span><span class="p">,</span> <span class="s1">&#39;tag3&#39;</span> <span class="p">],</span>
  <span class="nx">alias</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
    <span class="s1">&#39;custom_bool&#39;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s1">&#39;custom_int&#39;</span><span class="o">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">(),</span>
    <span class="s1">&#39;custom_string&#39;</span><span class="o">:</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span>
    <span class="s1">&#39;$og_title&#39;</span><span class="o">:</span> <span class="s1">&#39;Title&#39;</span><span class="p">,</span>
    <span class="s1">&#39;$og_description&#39;</span><span class="o">:</span> <span class="s1">&#39;Description&#39;</span><span class="p">,</span>
    <span class="s1">&#39;$og_image_url&#39;</span><span class="o">:</span><span class="s1">&#39;http://lorempixel.com/400/400&#39;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">linkOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">make_new_link</span><span class="o">:</span> <span class="kc">false</span> <span class="c1">// don&#39;t create a new deep link if one already exists (e.g. _branch_match_id is in the address bar)</span>
<span class="p">};</span>

<span class="nx">branch</span><span class="p">.</span><span class="nx">sendSMS</span><span class="p">(</span><span class="nx">phoneNumber</span><span class="p">,</span> <span class="nx">linkData</span><span class="p">,</span> <span class="nx">linkOptions</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="host-deep-link-data">Host deep link data<a class="headerlink" href="#host-deep-link-data" title="Permanent link">&para;</a></h3>
<ul>
<li>Make it easier for marketers to create deep links</li>
<li>Used for <a href="/pages/web/journeys/">Journeys</a>, <a href="/pages/emails/braze/">Universal Emails</a>, <a href="/pages/dashboard/analytics/#quick-links">Quick links</a>, and the <a href="https://chrome.google.com/webstore/detail/branch-link-creator/pekdpppibljpmpbcjelehhnldnfbglgf">Chrome Extension</a></li>
<li>Branch will scrape the web URL for deep link data on link creation</li>
<li>
<p>Validate by creating a <a href="https://dashboard.branch.io/quick-links">Quick Link</a> and fill in <code>web URL</code> to your web page</p>
<table>
<thead>
<tr>
<th>Example URL</th>
<th>URL data</th>
<th>Metatags to add to your site</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://shop.com/shoes/brown-loafers">https://shop.com/shoes/brown-loafers</a></td>
<td>productId=1234, productView=true</td>
<td><code>&lt;meta name="branch:deeplink:productId" content="1234" /&gt;</code>, <code>&lt;meta name="branch:deeplink:productView" content="true" /&gt;</code></td>
</tr>
<tr>
<td><a href="https://shop.com/shoes">https://shop.com/shoes</a></td>
<td>categoryId=5678</td>
<td><code>&lt;meta name="branch:deeplink:categoryId" content="5678" /&gt;</code></td>
</tr>
<tr>
<td><a href="https://shop.com/your-mother-is-great">https://shop.com/your-mother-is-great</a></td>
<td>No corresponding app content (<a href="/pages/links/integrate/#open-web-instead-of-app">open web</a>)</td>
<td><code>&lt;meta name="branch:deeplink:$web_only" content="true" /&gt;</code></td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
<li>
<h3 id="track-users">Track users<a class="headerlink" href="#track-users" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Sets the identity of a user (email, ID, UUID, etc) for events, deep links, and referrals</p>
</li>
<li>
<p>Validate with the <a href="https://dashboard.branch.io/liveview/identities">Branch Dashboard</a>  </p>
<div class="codehilite"><pre><span></span><span class="nx">branch</span><span class="p">.</span><span class="nx">setIdentity</span><span class="p">(</span><span class="s1">&#39;123456&#39;</span><span class="p">);</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="nx">branch</span><span class="p">.</span><span class="nx">setIdentity</span><span class="p">(</span><span class="s1">&#39;123456&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

</li>
<li>
<p>Removes the identity of a user</p>
<div class="codehilite"><pre><span></span><span class="nx">branch</span><span class="p">.</span><span class="nx">logout</span><span class="p">();</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="nx">branch</span><span class="p">.</span><span class="nx">logout</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="track-events">Track events<a class="headerlink" href="#track-events" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Registers a custom event</p>
</li>
<li>
<p>Events named <code>open</code>, <code>close</code>, <code>install</code>, and <code>referred session</code> are Branch restricted</p>
</li>
<li>
<p>Best to <a href="#track-users">Track users</a> before <a href="#track-events">Track events</a> to associate a custom event to a user</p>
</li>
<li>
<p>Validate with the <a href="https://dashboard.branch.io/liveview/events">Branch Dashboard</a></p>
<div class="codehilite"><pre><span></span><span class="nx">branch</span><span class="p">.</span><span class="nx">logEvent</span><span class="p">(</span>
     <span class="s2">&quot;custom_event&quot;</span><span class="p">,</span>
     <span class="p">{</span> <span class="nx">metadata</span><span class="o">:</span> <span class="s1">&#39;123&#39;</span> <span class="p">},</span>
     <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">}</span>
<span class="p">);</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">content_items</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;$og_title&quot;</span><span class="o">:</span> <span class="s2">&quot;Content Title&quot;</span><span class="p">,</span>
        <span class="s2">&quot;$og_description&quot;</span><span class="o">:</span> <span class="s2">&quot;Content Description&quot;</span><span class="p">,</span>
        <span class="s2">&quot;$og_image_url&quot;</span><span class="o">:</span> <span class="s2">&quot;http://example.com/img1.jpg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;$canonical_identifier&quot;</span><span class="o">:</span> <span class="s2">&quot;content/1234&quot;</span><span class="p">,</span>
        <span class="s2">&quot;$custom_fields&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;foo1&quot;</span><span class="o">:</span><span class="s2">&quot;bar1&quot;</span><span class="p">,</span><span class="s2">&quot;foo2&quot;</span><span class="o">:</span><span class="s2">&quot;bar2&quot;</span><span class="p">}</span>
     <span class="p">}</span>
<span class="p">];</span>

<span class="nx">branch</span><span class="p">.</span><span class="nx">logEvent</span><span class="p">(</span>
     <span class="s2">&quot;custom_event&quot;</span><span class="p">,</span>
     <span class="p">{</span> <span class="nx">metadata</span><span class="o">:</span> <span class="s1">&#39;123&#39;</span> <span class="p">},</span>
     <span class="nx">content_items</span><span class="p">,</span>
     <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">}</span>
<span class="p">);</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="track-commerce">Track commerce<a class="headerlink" href="#track-commerce" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Registers a custom commerce event</p>
</li>
<li>
<p>Validate with the <a href="https://dashboard.branch.io/liveview/commerce">Branch Dashboard</a></p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">event_and_custom_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;transaction_id&quot;</span><span class="o">:</span> <span class="s2">&quot;tras_Id_1232343434&quot;</span><span class="p">,</span>
    <span class="s2">&quot;currency&quot;</span><span class="o">:</span> <span class="s2">&quot;USD&quot;</span><span class="p">,</span>
    <span class="s2">&quot;revenue&quot;</span><span class="o">:</span> <span class="mf">180.2</span><span class="p">,</span>
    <span class="s2">&quot;shipping&quot;</span><span class="o">:</span> <span class="mf">10.5</span><span class="p">,</span>
    <span class="s2">&quot;tax&quot;</span><span class="o">:</span> <span class="mf">13.5</span><span class="p">,</span>
    <span class="s2">&quot;coupon&quot;</span><span class="o">:</span> <span class="s2">&quot;promo-1234&quot;</span><span class="p">,</span>
    <span class="s2">&quot;affiliation&quot;</span><span class="o">:</span> <span class="s2">&quot;high_fi&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="o">:</span> <span class="s2">&quot;Preferred purchase&quot;</span><span class="p">,</span>
    <span class="s2">&quot;purchase_loc&quot;</span><span class="o">:</span> <span class="s2">&quot;Palo Alto&quot;</span><span class="p">,</span>
    <span class="s2">&quot;store_pickup&quot;</span><span class="o">:</span> <span class="s2">&quot;unavailable&quot;</span>
 <span class="p">};</span>

 <span class="kd">var</span> <span class="nx">content_items</span> <span class="o">=</span> <span class="p">[</span>
     <span class="p">{</span>
         <span class="s2">&quot;$content_schema&quot;</span><span class="o">:</span> <span class="s2">&quot;COMMERCE_PRODUCT&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$og_title&quot;</span><span class="o">:</span> <span class="s2">&quot;Nike Shoe&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$og_description&quot;</span><span class="o">:</span> <span class="s2">&quot;Start loving your steps&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$og_image_url&quot;</span><span class="o">:</span> <span class="s2">&quot;http://example.com/img1.jpg&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$canonical_identifier&quot;</span><span class="o">:</span> <span class="s2">&quot;nike/1234&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$publicly_indexable&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
         <span class="s2">&quot;$price&quot;</span><span class="o">:</span> <span class="mf">101.2</span><span class="p">,</span>
         <span class="s2">&quot;$locally_indexable&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
         <span class="s2">&quot;$quantity&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
         <span class="s2">&quot;$sku&quot;</span><span class="o">:</span> <span class="s2">&quot;1101123445&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$product_name&quot;</span><span class="o">:</span> <span class="s2">&quot;Runner&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$product_brand&quot;</span><span class="o">:</span> <span class="s2">&quot;Nike&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$product_category&quot;</span><span class="o">:</span> <span class="s2">&quot;Sporting Goods&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$product_variant&quot;</span><span class="o">:</span> <span class="s2">&quot;XL&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$rating_average&quot;</span><span class="o">:</span> <span class="mf">4.2</span><span class="p">,</span>
         <span class="s2">&quot;$rating_count&quot;</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
         <span class="s2">&quot;$rating_max&quot;</span><span class="o">:</span> <span class="mf">2.2</span><span class="p">,</span>
         <span class="s2">&quot;$creation_timestamp&quot;</span><span class="o">:</span> <span class="mi">1499892854966</span><span class="p">,</span>
         <span class="s2">&quot;$exp_date&quot;</span><span class="o">:</span> <span class="mi">1499892854966</span><span class="p">,</span>
         <span class="s2">&quot;$keywords&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;sneakers&quot;</span><span class="p">,</span> <span class="s2">&quot;shoes&quot;</span> <span class="p">],</span>
         <span class="s2">&quot;$address_street&quot;</span><span class="o">:</span> <span class="s2">&quot;230 South LaSalle Street&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$address_city&quot;</span><span class="o">:</span> <span class="s2">&quot;Chicago&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$address_region&quot;</span><span class="o">:</span> <span class="s2">&quot;IL&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$address_country&quot;</span><span class="o">:</span> <span class="s2">&quot;US&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$address_postal_code&quot;</span><span class="o">:</span> <span class="s2">&quot;60604&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$latitude&quot;</span><span class="o">:</span> <span class="mf">12.07</span><span class="p">,</span>
         <span class="s2">&quot;$longitude&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">97.5</span><span class="p">,</span>
         <span class="s2">&quot;$image_captions&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;my_img_caption1&quot;</span><span class="p">,</span> <span class="s2">&quot;my_img_caption_2&quot;</span> <span class="p">],</span>
         <span class="s2">&quot;$condition&quot;</span><span class="o">:</span> <span class="s2">&quot;NEW&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$custom_fields&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;foo1&quot;</span><span class="o">:</span><span class="s2">&quot;bar1&quot;</span><span class="p">,</span><span class="s2">&quot;foo2&quot;</span><span class="o">:</span><span class="s2">&quot;bar2&quot;</span><span class="p">}</span>
   <span class="p">},</span>
   <span class="p">{</span>
         <span class="s2">&quot;$og_title&quot;</span><span class="o">:</span> <span class="s2">&quot;Nike Woolen Sox&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$canonical_identifier&quot;</span><span class="o">:</span> <span class="s2">&quot;nike/5324&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$og_description&quot;</span><span class="o">:</span> <span class="s2">&quot;Fine combed woolen sox for those who love your foot&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$publicly_indexable&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
         <span class="s2">&quot;$price&quot;</span><span class="o">:</span> <span class="mf">80.2</span><span class="p">,</span>
         <span class="s2">&quot;$locally_indexable&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
         <span class="s2">&quot;$quantity&quot;</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
         <span class="s2">&quot;$sku&quot;</span><span class="o">:</span> <span class="s2">&quot;110112467&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$product_name&quot;</span><span class="o">:</span> <span class="s2">&quot;Woolen Sox&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$product_brand&quot;</span><span class="o">:</span> <span class="s2">&quot;Nike&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$product_category&quot;</span><span class="o">:</span> <span class="s2">&quot;Apparel &amp; Accessories&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$product_variant&quot;</span><span class="o">:</span> <span class="s2">&quot;Xl&quot;</span><span class="p">,</span>
         <span class="s2">&quot;$rating_average&quot;</span><span class="o">:</span> <span class="mf">3.3</span><span class="p">,</span>
         <span class="s2">&quot;$rating_count&quot;</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
         <span class="s2">&quot;$rating_max&quot;</span><span class="o">:</span> <span class="mf">2.8</span><span class="p">,</span>
         <span class="s2">&quot;$creation_timestamp&quot;</span><span class="o">:</span> <span class="mi">1499892854966</span>
   <span class="p">}];</span>

   <span class="nx">branch</span><span class="p">.</span><span class="nx">logEvent</span><span class="p">(</span>
      <span class="s2">&quot;PURCHASE&quot;</span><span class="p">,</span>
      <span class="nx">event_and_custom_data</span><span class="p">,</span>
      <span class="nx">content_items</span><span class="p">,</span>
      <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">}</span>
   <span class="p">);</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="handle-referrals">Handle referrals<a class="headerlink" href="#handle-referrals" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Referral points are obtained from referral rules on the <a href="https://dashboard.branch.io/referrals/rules">Branch Dashboard</a></p>
</li>
<li>
<p>Validate on the <a href="https://dashboard.branch.io/referrals/analytics">Branch Dashboard</a></p>
</li>
<li>
<p>Reward credits</p>
<ul>
<li><a href="/pages/dashboard/analytics/#referrals">Referral guide</a></li>
</ul>
</li>
<li>
<p>Redeem credits</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">amount</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">bucket</span> <span class="o">=</span> <span class="s1">&#39;this_bucket&#39;</span><span class="p">;</span>
<span class="nx">branch</span><span class="p">.</span><span class="nx">redeem</span><span class="p">(</span><span class="nx">amount</span><span class="p">,</span> <span class="nx">bucket</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">amount</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="nx">branch</span><span class="p">.</span><span class="nx">redeem</span><span class="p">(</span><span class="nx">amount</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

</li>
<li>
<p>Load credits</p>
<div class="codehilite"><pre><span></span><span class="nx">branch</span><span class="p">.</span><span class="nx">credits</span><span class="p">(</span><span class="nx">amount</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

</li>
<li>
<p>Load history</p>
<div class="codehilite"><pre><span></span><span class="nx">branch</span><span class="p">.</span><span class="nx">creditHistory</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;length&quot;</span><span class="o">:</span><span class="mi">50</span><span class="p">,</span>
  <span class="s2">&quot;begin_after_id&quot;</span><span class="o">:</span><span class="s2">&quot;123456789012345&quot;</span><span class="p">,</span>
  <span class="s2">&quot;bucket&quot;</span><span class="o">:</span><span class="s2">&quot;default&quot;</span>
<span class="p">};</span>
<span class="nx">branch</span><span class="p">.</span><span class="nx">creditHistory</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

<table>
<thead>
<tr>
<th>Key</th>
<th>Default</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td>bucket</td>
<td></td>
<td>The bucket from which to retrieve credit transactions (63 max characters)</td>
</tr>
<tr>
<td>begin_after_id</td>
<td></td>
<td>The credit transaction id of the last item in the previous retrieval</td>
</tr>
<tr>
<td>length</td>
<td><code>100</code></td>
<td>The number of credit transactions to retrieve</td>
</tr>
<tr>
<td>direction</td>
<td><code>0</code></td>
<td>The order of credit transactions to retrieve (<strong>deprecated</strong>)</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
<li>
<h3 id="handle-listeners">Handle listeners<a class="headerlink" href="#handle-listeners" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Subscribe and unsubscribe to Branch events</p>
<div class="codehilite"><pre><span></span><span class="c1">// all Branch events</span>
<span class="nx">branch</span><span class="p">.</span><span class="nx">addListener</span><span class="p">(</span><span class="nx">listener</span><span class="p">);</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="nx">branch</span><span class="p">.</span><span class="nx">addListener</span><span class="p">(</span><span class="s1">&#39;willShowJourney&#39;</span><span class="p">,</span> <span class="nx">listener</span><span class="p">);</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="nx">branch</span><span class="p">.</span><span class="nx">removeListener</span><span class="p">(</span><span class="nx">listener</span><span class="p">);</span>
</pre></div>

<table>
<thead>
<tr>
<th>Key</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td>willShowJourney</td>
<td>Journey is about to be shown.</td>
</tr>
<tr>
<td>didShowJourney</td>
<td>Journey's entrance animation has completed and it is being shown to the user.</td>
</tr>
<tr>
<td>willNotShowJourney</td>
<td>Journey will not be shown and no other events will be emitted.</td>
</tr>
<tr>
<td>didClickJourneyCTA</td>
<td>User clicked on Journey's CTA button.</td>
</tr>
<tr>
<td>didClickJourneyClose</td>
<td>User clicked on Journey's close button.</td>
</tr>
<tr>
<td>willCloseJourney</td>
<td>Journey close animation has started.</td>
</tr>
<tr>
<td>didCloseJourney</td>
<td>Journey's close animation has completed and it is no longer visible to the user.</td>
</tr>
<tr>
<td>didCallJourneyClose</td>
<td>Emitted when developer calls branch.closeJourney() to dismiss Journey.</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
<li>
<h3 id="handle-firebase-app-indexing">Handle Firebase App Indexing<a class="headerlink" href="#handle-firebase-app-indexing" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Inserts Firebase App Indexing tags on your website which will help Google index and surface content from your App to Google Search</p>
<ul>
<li>
<p>For example:</p>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;alternate&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;android-app://{androidPackageName}/{androidURL}?{branch_tracking_params_and_additional_deep_link_data}&quot;</span><span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;alternate&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;ios-app://{iosAppId}/{iosURL}?{branch_tracking_params_and_additional_deep_link_data}&quot;</span><span class="p">/&gt;</span>
</pre></div>

</li>
</ul>
</li>
<li>
<p>If optional parameters above are not specified, Branch will try to build Firebase App Indexing tags using your page's App Links tags. Alternatively, if optional parameters are specified but Firebase App Indexing tags already exist on your webpage then Branch tracking params will be appended to the end of these tags and ignore what is passed into <code>Branch.autoAppIndex()</code>.</p>
</li>
<li>
<p>Analytics related to Google's attempts to index your App's content via this method can be found on your <a href="https://dashboard.branch.io/sources">Branch Dashboard</a> where channel is <code>Firebase App Indexing</code> and feature is <code>Auto App Indexing</code></p>
<div class="codehilite"><pre><span></span><span class="nx">branch</span><span class="p">.</span><span class="nx">autoAppIndex</span><span class="p">({</span>
    <span class="nx">iosAppId</span><span class="o">:</span><span class="s1">&#39;123456789&#39;</span><span class="p">,</span>
    <span class="nx">iosURL</span><span class="o">:</span><span class="s1">&#39;example/home/cupertino/12345&#39;</span><span class="p">,</span>
    <span class="nx">androidPackageName</span><span class="o">:</span><span class="s1">&#39;com.somecompany.app&#39;</span><span class="p">,</span>
    <span class="nx">androidURL</span><span class="o">:</span><span class="s1">&#39;example/home/cupertino/12345&#39;</span><span class="p">,</span>
    <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;walkScore&quot;</span><span class="o">:</span> <span class="mi">65</span><span class="p">,</span>
      <span class="s2">&quot;transitScore&quot;</span><span class="o">:</span> <span class="mi">50</span>
    <span class="p">}</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

<table>
<thead>
<tr>
<th>Key</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td>"androidPackageName"</td>
<td>Android App's package name</td>
</tr>
<tr>
<td>"androidURL"</td>
<td>A custom scheme for your Android App such as: <code>example/home/cupertino/12345</code> where <code>example</code> is the App's URI scheme and <code>home/cupertino/12345</code> routes to unique content in the App</td>
</tr>
<tr>
<td>"iosAppId"</td>
<td>iTunes App Store ID for your iOS App</td>
</tr>
<tr>
<td>"iosURL"</td>
<td>A custom scheme for your iOS App such as: <code>example/home/cupertino/12345</code></td>
</tr>
<tr>
<td>"data"</td>
<td>Any additional deep link data that you would like to pass to your App</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
<li>
<h3 id="enable-disable-user-tracking">Enable / Disable User Tracking<a class="headerlink" href="#enable-disable-user-tracking" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>In order to help our customers comply with GDPR and other laws that restrict data collection from certain users, we’ve updated our Web SDK with a Do Not Track mode. This way, if a user indicates that they want to remain private on your website, or if you otherwise determine that a particular user should not be tracked, you can continue to make use of the Branch Web SDK (e.g. for creating Branch links) while not tracking that user. This state is persistent, meaning that it’s saved for the user across browser sessions for the web site. This setting can also be enabled across all users for a particular link, or across your Branch links.</p>
</li>
<li>
<p>To enable Do Not Track Mode during initialization, include the <code>tracking_disabled</code> flag, with a value of <code>true</code>, into the options during initialization:</p>
<div class="codehilite"><pre><span></span><span class="nx">branch</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span> <span class="s1">&#39;BRANCH_KEY&#39;</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="err">‘</span><span class="nx">tracking_disabled</span><span class="err">’</span> <span class="o">:</span> <span class="kc">true</span>
    <span class="p">}</span>
<span class="p">);</span>
</pre></div>

</li>
<li>
<p>To enable Do Not Track Mode following initialization, call <code>disableTracking(true)</code>. If you call <code>disableTracking()</code> with no argument, it will default to <code>disableTracking(true)</code>. Use <code>disableTracking(false)</code> to resume tracking.</p>
</li>
</ul>
</li>
</ul>
<h2 id="troubleshoot-issues">Troubleshoot issues<a class="headerlink" href="#troubleshoot-issues" title="Permanent link">&para;</a></h2>
<ul>
<li>
<h3 id="sample-testing-apps">Sample testing apps<a class="headerlink" href="#sample-testing-apps" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://cdn.branch.io/example.html">https://cdn.branch.io/example.html</a></li>
<li><a href="http://cdn.branch.io/branchster-angular">http://cdn.branch.io/branchster-angular</a></li>
</ul>
</li>
<li>
<h3 id="browser-support">Browser support<a class="headerlink" href="#browser-support" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>The Branch Web SDK requires native browser Javascript and has been tested in all modern browsers with sessionStorage capability. No 3rd party libraries are needed to make use of the SDK as is it 100% native Javascript.</p>
<table>
<thead>
<tr>
<th>Chrome</th>
<th>Firefox</th>
<th>Safari</th>
<th>IE</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#10004;</td>
<td>&#10004;</td>
<td>&#10004;</td>
<td>9, 10, 11</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
<li>
<h3 id="bower-or-npm-compatibility">Bower or Npm compatibility<a class="headerlink" href="#bower-or-npm-compatibility" title="Permanent link">&para;</a></h3>
<ul>
<li>Use <code>bower install branch-sdk</code> or <code>npm install branch-sdk</code></li>
</ul>
</li>
<li>
<h3 id="commonjs-and-requirejs-compatibility">CommonJS and RequireJS compatibility<a class="headerlink" href="#commonjs-and-requirejs-compatibility" title="Permanent link">&para;</a></h3>
<ul>
<li>Add <code>require('branch')</code> or <code>define(['branch'], function(branch) { ... });</code></li>
</ul>
</li>
<li>
<h3 id="branch-init-options">Branch init options<a class="headerlink" href="#branch-init-options" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Properties which you can pass within <code>branch.initSession()</code></p>
</li>
<li>
<p>Used for <a href="#initialize-branch-features">Initialize Branch features</a></p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>branch_match_id</td>
<td><em>optional</em> - <code>string</code>. The current user's browser-fingerprint-id. The value of this parameter should be the same as the value of ?<em>branch_match_id (automatically appended by Branch after a link click). _Only necessary if ?_branch_match_id is lost due to multiple redirects in your flow</em>.</td>
</tr>
<tr>
<td>branch_view_id</td>
<td><em>optional</em> - <code>string</code>. If you would like to test how Journeys render on your page before activating them, you can set the value of this parameter to the id of the view you are testing. <em>Only necessary when testing a view related to a Journey</em>.</td>
</tr>
<tr>
<td>no_journeys</td>
<td><em>optional</em> - <code>boolean</code>. When true, prevents Journeys from appearing on current page.</td>
</tr>
<tr>
<td>disable_entry_animation</td>
<td><em>optional</em> - <code>boolean</code>. When true, prevents a Journeys entry animation.</td>
</tr>
<tr>
<td>disable_exit_animation</td>
<td><em>optional</em> - <code>boolean</code>. When true, prevents a Journeys exit animation.</td>
</tr>
<tr>
<td>open_app</td>
<td><em>optional</em> - <code>boolean</code>. Whether to try to open the app passively through Journeys (as opposed to opening it upon user clicking); defaults to false.</td>
</tr>
<tr>
<td>nonce</td>
<td><em>optional</em> - <code>string</code>. A nonce value that will be included on any script or style tags Branch adds to your site. Used to whitelist these tags in your Content Security Policy.</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
<li>
<h3 id="testing-read-deep-link">Testing read deep link<a class="headerlink" href="#testing-read-deep-link" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Used for <a href="#read-deep-link">Read deep link</a></p>
</li>
<li>
<p>Make a deep link redirect to your website</p>
<div class="codehilite"><pre><span></span><span class="err">https://example.app.link/kJNbhZ</span><span class="mi">1</span><span class="err">PrF?$fallback_url=https://example.com</span>
</pre></div>

</li>
<li>
<p>Website will open to <a href="/pages/links/integrate/#redirections">$fallback_url</a> with <code>_branch_match_id</code></p>
<div class="codehilite"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">example</span><span class="p">.</span><span class="n">app</span><span class="p">.</span><span class="n">link</span><span class="o">/</span><span class="n">kJNbhZ1PrF</span><span class="o">?</span><span class="err">$</span><span class="n">fallback_url</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="p">.</span><span class="n">website</span><span class="p">.</span><span class="n">com</span><span class="o">/&amp;</span><span class="n">_branch_match_id</span><span class="o">=</span><span class="mi">418480444086051524</span>
</pre></div>

</li>
<li>
<p>Read <code>_branch_match_id</code> from that <code>$fallback_url</code> website</p>
<div class="codehilite"><pre><span></span><span class="nx">branch</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s1">&#39;key_live_kaFuWw8WvY7yn1d9yYiP8gokwqjV0Swt&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="journey-not-sticking-to-nav">Journey not sticking to nav<a class="headerlink" href="#journey-not-sticking-to-nav" title="Permanent link">&para;</a></h3>
<ul>
<li>Navigate to <a href="https://branch.dashboard.branch.io/web/journeys">Dashboard Journey Page</a></li>
<li>Select Journey -&gt; Edit -&gt; Configure Views -&gt; Banner -&gt; Page Placement</li>
<li>Banner Scroll = <code>sticky</code></li>
<li>Press <code>Save &amp; Close</code></li>
<li>
<p>Add the following div to your nav</p>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;branch-journeys-top&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="create-call-to-action">Create call to action<a class="headerlink" href="#create-call-to-action" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>(<strong>Deprecated</strong>) Recommend to use <a href="#share-deep-link">Share deep link</a> instead</p>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;branch.deepviewCta()&quot;</span><span class="p">&gt;</span>deep link<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">button</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;branch.deepviewCta()&quot;</span><span class="p">&gt;</span>deep link<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">linkData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">campaign</span><span class="o">:</span> <span class="nb">String</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">())</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">linkOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">make_new_link</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="c1">// don&#39;t create a new deep link if one already exists (e.g. _branch_match_id is in the address bar)</span>
  <span class="nx">open_app</span><span class="o">:</span> <span class="kc">true</span>  <span class="c1">// will attempt to open the app if install (URI Scheme deep linking only - will not work with Safari)</span>
<span class="p">};</span>
<span class="nx">branch</span><span class="p">.</span><span class="nx">deepview</span><span class="p">(</span><span class="nx">linkData</span><span class="p">,</span> <span class="nx">linkOptions</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="no-access-control-error">No Access-Control Error<a class="headerlink" href="#no-access-control-error" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Make sure the Branch key is the same within the deep link and website</p>
<div class="codehilite"><pre><span></span><span class="n">XMLHttpRequest</span> <span class="n">cannot</span> <span class="k">load</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">api2</span><span class="p">.</span><span class="n">branch</span><span class="p">.</span><span class="n">io</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="k">open</span><span class="p">.</span> <span class="k">No</span> <span class="s1">&#39;Access-Control-Allow-Origin&#39;</span> <span class="n">header</span> <span class="k">is</span> <span class="n">present</span> <span class="k">on</span> <span class="n">the</span> <span class="n">requested</span> <span class="n">resource</span><span class="p">.</span> <span class="n">Origin</span> <span class="s1">&#39;null&#39;</span> <span class="k">is</span> <span class="n">therefore</span> <span class="k">not</span> <span class="n">allowed</span> <span class="k">access</span><span class="p">.</span> <span class="n">The</span> <span class="n">response</span> <span class="n">had</span> <span class="n">HTTP</span> <span class="n">status</span> <span class="n">code</span> <span class="mi">400</span><span class="p">.</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="browser-fingerprint-id">Browser Fingerprint ID<a class="headerlink" href="#browser-fingerprint-id" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>In case you need to access your user's Browser Fingerprint ID for user deletion, use the function below.</p>
<div class="codehilite"><pre><span></span><span class="n">branch</span><span class="p">.</span><span class="n">getBrowserFingerprintId</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="k">data</span><span class="p">)</span> <span class="err">{</span> <span class="n">console</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="k">data</span><span class="p">);</span> <span class="err">}</span><span class="p">);</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="content-security-policy-violations">Content Security Policy Violations<a class="headerlink" href="#content-security-policy-violations" title="Permanent link">&para;</a></h3>
<ul>
<li>Generate a dynamic nonce value, and include that value as a <code>script-src</code> and <code>style-src</code> exception within your Content Security Policy</li>
<li>
<p>Pass that same value to <code>branch.init()</code></p>
<div class="codehilite"><pre><span></span><span class="n">branch</span><span class="p">.</span><span class="n">init</span><span class="p">(</span><span class="n">YOUR_BRANCH_KEY</span><span class="p">,</span> <span class="err">{</span><span class="s1">&#39;nonce&#39;</span><span class="p">:</span> <span class="s1">&#39;GENERATED_NONCE_VALUE&#39;</span> <span class="err">}</span><span class="p">);</span>
</pre></div>

</li>
</ul>
</li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.245445c6.js"></script>
      
        
        
          
          <script src="../../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
                <script src="../../../assets/javascripts/lunr/tinyseg.js"></script>
              
              
                <script src="../../../assets/javascripts/lunr/lunr.ja.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
        <script src="../../../js/router.js"></script>
      
        <script src="../../../js/events.js"></script>
      
        <script src="../../../js/modals.js"></script>
      
        <script src="../../../js/images.js"></script>
      
        <script src="../../../js/buttons.js"></script>
      
        <script src="../../../js/progress.js"></script>
      
        <script src="../../../js/tabs.js"></script>
      
        <script src="../../../js/languages.js"></script>
      
        <script src="../../../js/utils.js"></script>
      
        <script src="../../../js/main.js"></script>
      
    
  </body>
</html>